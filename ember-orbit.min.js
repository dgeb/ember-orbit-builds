define("ember_orbit",["ember_orbit/main","ember_orbit/store","ember_orbit/model","ember_orbit/record_array_manager","ember_orbit/schema","ember_orbit/source","ember_orbit/attr","ember_orbit/links/has_many_array","ember_orbit/links/has_one_object","ember_orbit/links/link_proxy_mixin","ember_orbit/record_arrays/filtered_record_array","ember_orbit/record_arrays/record_array","ember_orbit/relationships/has_many","ember_orbit/relationships/has_one"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){"use strict";return a.Store=b,a.Model=c,a.RecordArrayManager=d,a.Schema=e,a.Source=f,a.attr=g,a.HasManyArray=h,a.HasOneObject=i,a.LinkProxyMixin=j,a.FilteredRecordArray=k,a.RecordArray=l,a.hasOne=n,a.hasMany=m,a}),define("ember_orbit/attr",[],function(){"use strict";var a=function(a,b){b=b||{},b.type=a;var c={options:b,isAttribute:!0};return Ember.computed(function(a,b){if(arguments.length>1){var c=this.getAttribute(a);return b!==c&&this.patch(a,b),b}return this.getAttribute(a)}).meta(c)};return a}),define("ember_orbit/links/has_many_array",["ember_orbit/record_arrays/record_array","ember_orbit/links/link_proxy_mixin"],function(a,b){"use strict";var c=Ember.get,d=(Ember.set,Ember.EnumerableUtils.forEach,a.extend(b,{arrayContentWillChange:function(a,b){for(var d,e,f=c(this,"store"),g=c(f,"idField"),h=c(this,"_ownerType"),i=c(this,"_ownerId"),j=c(this,"_linkKey"),k=c(this,"content"),l=a;a+b>l;l++)d=k.objectAt(l),e=c(d,g),f.removeLink(h,i,j,e);return this._super.apply(this,arguments)},arrayContentDidChange:function(a,b,d){this._super.apply(this,arguments);for(var e,f,g=c(this,"store"),h=c(g,"idField"),i=c(this,"_ownerType"),j=c(this,"_ownerId"),k=c(this,"_linkKey"),l=c(this,"content"),m=a;a+d>m;m++)e=l.objectAt(m),f=c(e,h),g.addLink(i,j,k,f)}}));return d}),define("ember_orbit/links/has_one_object",["ember_orbit/links/link_proxy_mixin"],function(a){"use strict";var b=Ember.ObjectProxy.extend(a);return b}),define("ember_orbit/links/link_proxy_mixin",[],function(){"use strict";var a=Ember.get,b=(Ember.set,Ember.Mixin.create({store:null,_ownerId:null,_ownerType:null,_linkKey:null,find:function(){var b=a(this,"store"),c=b.findLink.call(b,a(this,"_ownerType"),a(this,"_ownerId"),a(this,"_linkKey"));return c}}));return b}),define("ember_orbit/main",[],function(){"use strict";var a={};return a}),define("ember_orbit/model",["ember_orbit/links/has_one_object","ember_orbit/links/has_many_array"],function(a,b){"use strict";var c=Ember.get,d=Ember.Object.extend(Ember.Evented,{getAttribute:function(a){var b=c(this,"store"),d=this.constructor.typeKey,e=c(this,c(b,"idField"));return b.retrieveAttribute(d,e,a)},getLink:function(b){var d=c(this,"store"),e=this.constructor.typeKey,f=c(this,c(d,"idField")),g=d.retrieveLink(e,f,b)||null,h=a.create({content:g,store:d,_ownerId:f,_ownerType:e,_linkKey:b});return this._assignLink(b,h),h},getLinks:function(a){var d=c(this,"store"),e=this.constructor.typeKey,f=c(this,c(d,"idField")),g=d.retrieveLinks(e,f,a)||Ember.A(),h=b.create({content:g,store:this.store,_ownerId:f,_ownerType:e,_linkKey:a});return this._assignLink(a,h),h},patch:function(a,b){var d=c(this,"store"),e=this.constructor.typeKey,f=c(this,c(d,"idField"));return d.patch(e,f,a,b)},addLink:function(a,b){var d=c(this,"store"),e=this.constructor.typeKey,f=c(this,c(d,"idField")),g=c(b,c(d,"idField"));return d.addLink(e,f,a,g)},removeLink:function(a,b){var d=c(this,"store"),e=this.constructor.typeKey,f=c(this,c(d,"idField")),g=c(b,c(d,"idField"));return d.removeLink(e,f,a,g)},remove:function(){var a=c(this,"store"),b=this.constructor.typeKey,d=c(this,c(a,"idField"));return a.remove(b,d)},willDestroy:function(){this._super();var a=c(this,"store"),b=this.constructor.typeKey,d=c(this,c(a,"idField"));a.unload(b,d)},_assignLink:function(a,b){this._links=this._links||{},this._links[a]=b}});return d.reopenClass({_create:d.create,create:function(){throw new Ember.Error("You should not call `create` on a model. Instead, call `store.add` with the attributes you would like to set.")},attributes:Ember.computed(function(){var a={};return this.eachComputedProperty(function(b,c){c.isAttribute&&(c.name=b,a[b]=c.options)}),a}),links:Ember.computed(function(){var a={};return this.eachComputedProperty(function(b,c){c.isLink&&(c.name=b,a[b]=c.options)}),a})}),d}),define("ember_orbit/record_array_manager",["ember_orbit/record_arrays/record_array","ember_orbit/record_arrays/filtered_record_array"],function(a,b){"use strict";function c(a){for(var b=[],c=Ember.keys(a),d=0;d<c.length;d++)b.push(a[c[d]]);return b}function d(a){a.destroy()}function e(a){for(var b=a.length,c=Ember.A(),d=0;b>d;d++)c=c.concat(a[d]);return c}var f=Ember.get,g=(Ember.set,Ember.EnumerableUtils.forEach),h=Ember.Object.extend({init:function(){this.filteredRecordArrays=Ember.MapWithDefault.create({defaultValue:function(){return[]}}),this.changes=[]},recordDidChange:function(a,b){1===this.changes.push({record:a,operation:b})&&Ember.run.schedule("actions",this,this._processChanges)},_processChanges:function(){g(this.changes,function(a){this._processChange(a.record,a.operation)},this),this.changes.length=0},_processChange:function(a,b){{var c=b.path,d=b.op;b.value}if(2===c.length){if("add"===d)return void this._recordWasChanged(a);if("remove"===d)return void this._recordWasDeleted(a)}else{if(3===c.length||4===c.length)return void this._recordWasChanged(a);if(5===c.length){if("add"===d)return void this._linkWasAdded(a,c[3],c[4]);if("remove"===d)return void this._linkWasRemoved(a,c[3],c[4])}}console.log("!!!! unhandled change",c.length,b)},_recordWasDeleted:function(a){var b=a._recordArrays;b&&g(b,function(b){b.removeObject(a)}),a.destroy()},_recordWasChanged:function(a){var b,c=a.constructor.typeKey,d=this.filteredRecordArrays.get(c);d&&g(d,function(d){b=f(d,"filterFunction"),this.updateRecordArray(d,b,c,a)},this)},_linkWasAdded:function(a,b,c){var d=a.constructor.typeKey,e=f(this,"store"),g=f(e,"schema").linkProperties(d,b).model;if(g){var h=e.retrieve(g,c),i=f(a,b);i&&h&&i.addObject(h)}},_linkWasRemoved:function(a,b,c){var d=a.constructor.typeKey,e=f(this,"store"),g=f(e,"schema").linkProperties(d,b).model;if(g){var h=e.retrieve(g,c),i=f(a,b);i&&h&&i.removeObject(h)}},updateRecordArray:function(a,b,c,d){var e;e=b?b(d):!0,e?a.addObject(d):a.removeObject(d)},updateFilter:function(a,b,c){for(var d,e=this.store.retrieve(b),g=0,h=e.length;h>g;g++)d=e[g],f(d,"isDeleted")||this.updateRecordArray(a,c,b,d)},createRecordArray:function(b){var c=a.create({type:b,content:Ember.A(),store:this.store});return this.registerFilteredRecordArray(c,b),c},createFilteredRecordArray:function(a,c,d){var e=b.create({query:d,type:a,content:Ember.A(),store:this.store,manager:this,filterFunction:c});return this.registerFilteredRecordArray(e,a,c),e},registerFilteredRecordArray:function(a,b,c){var d=this.filteredRecordArrays.get(b);d.push(a),this.updateFilter(a,b,c)},willDestroy:function(){this._super(),e(c(this.filteredRecordArrays.values)).forEach(d)}});return h}),define("ember_orbit/record_arrays/filtered_record_array",["ember_orbit/record_arrays/record_array"],function(a){"use strict";var b=Ember.get,c=a.extend({filterFunction:null,replace:function(){var a=b(this,"type").toString();throw new Error("The result of a client-side filter (on "+a+") is immutable.")},_updateFilter:function(){var a=b(this,"manager");a.updateFilter(this,b(this,"type"),b(this,"filterFunction"))},updateFilter:Ember.observer(function(){Ember.run.once(this,this._updateFilter)},"filterFunction")});return c}),define("ember_orbit/record_arrays/record_array",[],function(){"use strict";var a=Ember.get,b=(Ember.set,Ember.EnumerableUtils.forEach),c=Ember.ArrayProxy.extend(Ember.Evented,{init:function(){this._super(),this._recordsAdded(a(this,"content"))},willDestroy:function(){this._recordsRemoved(a(this,"content")),this._super()},type:null,store:null,addObject:function(b){a(this,"content").addObject(b),this._recordAdded(b)},removeObject:function(b){a(this,"content").removeObject(b),this._recordRemoved(b)},_recordAdded:function(a){this._recordArraysForRecord(a).add(this)},_recordRemoved:function(a){this._recordArraysForRecord(a).remove(this)},_recordsAdded:function(a){b(a,function(a){this._recordAdded(a)},this)},_recordsRemoved:function(a){b(a,function(a){this._recordRemoved(a)},this)},_recordArraysForRecord:function(a){return a._recordArrays=a._recordArrays||Ember.OrderedSet.create(),a._recordArrays}});return c}),define("ember_orbit/relationships/has_many",[],function(){"use strict";var a=function(a,b){b=b||{},b.type="hasMany",b.model=a;var c={options:b,isLink:!0};return Ember.computed(function(a){return this.getLinks(a)}).meta(c).readOnly()};return a}),define("ember_orbit/relationships/has_one",[],function(){"use strict";var a=Ember.get,b=(Ember.set,function(b,c){c=c||{},c.type="hasOne",c.model=b;var d={options:c,isLink:!0};return Ember.computed(function(b,c){var d=this.getLink(b);return arguments.length>1&&c!==a(d,"content")&&d.setProperties({content:c,promise:this.addLink(b,c)}),d}).meta(d)});return b}),define("ember_orbit/schema",["orbit_common/schema"],function(a){"use strict";var b=Ember.get,c=Ember.Object.extend({idField:"clientid",remoteIdField:"id",init:function(){this._super.apply(this,arguments),this._modelTypeMap={}},_schema:function(){var c=new a({idField:b(this,"idField"),remoteIdField:b(this,"remoteIdField")});return c}.property(),defineModel:function(a,c){var d=b(this,"_schema"),e=d.models;e[a]||d.registerModel(a,{attributes:b(c,"attributes"),links:b(c,"links")})},modelFor:function(a){Ember.assert("`type` must be a string","string"==typeof a);var b=this._modelTypeMap[a];if(!b){if(b=this.container.lookupFactory("model:"+a),!b)throw new Ember.Error("No model was found for '"+a+"'");b.typeKey=a,this.defineModel(a,b),this._modelTypeMap[a]=b}return b},initRecord:function(a,c){return b(this,"_schema").initRecord(a,c)},models:function(){return Object.keys(b(this,"_schema").models)},attributes:function(a){return Object.keys(b(this,"_schema").models[a].attributes)},attributeProperties:function(a,c){return b(this,"_schema").models[a].attributes[c]},links:function(a){return Object.keys(b(this,"_schema").models[a].links)},linkProperties:function(a,c){return b(this,"_schema").models[a].links[c]},normalize:function(a,c){return b(this,"_schema").normalize(a,c)}});return c}),define("ember_orbit/source",["ember_orbit/schema","orbit_common/source"],function(){"use strict";var a=Ember.get,b=Ember.set,c=Ember.Object.extend({orbitSourceClass:null,orbitSourceOptions:null,schema:null,init:function(){this._super.apply(this,arguments);var c=a(this,"orbitSourceClass");c&&c.wrappedFunction&&(c=c.wrappedFunction),Ember.assert("Source.orbitSourceClass must be initialized with an instance of an `OC.Source`",c);var d=a(this,"schema");if(!d){var e=a(this,"container");d=e.lookup("schema:main"),b(this,"schema",d)}var f=a(d,"_schema"),g=a(this,"orbitSourceOptions");this.orbitSource=new c(f,g)}});return c}),define("ember_orbit/store",["ember_orbit/source","ember_orbit/model","ember_orbit/record_array_manager","orbit_common/memory_source"],function(a,b,c,d){"use strict";function e(a,b){return h.create({promise:g.cast(a,b)})}var f=Ember.get,g=(Ember.set,Ember.RSVP.Promise),h=Ember.ArrayProxy.extend(Ember.PromiseProxyMixin),i=a.extend({orbitSourceClass:d,schema:null,idField:Ember.computed.alias("schema.idField"),init:function(){this._super.apply(this,arguments),this.typeMaps={},this.orbitSource.on("didTransform",this._didTransform,this),this._requests=Ember.OrderedSet.create(),this._recordArrayManager=c.create({store:this})},then:function(a,b){return Ember.RSVP.all(this._requests.toArray()).then(a,b)},willDestroy:function(){this.orbitSource.off("didTransform",this.didTransform,this),this._recordArrayManager.destroy(),this._super.apply(this,arguments)},typeMapFor:function(a){var b=this.typeMaps[a];return b?b:(b={records:{},type:a},this.typeMaps[a]=b,b)},transform:function(a){return this.orbitSource.transform(a)},all:function(a){this._verifyType(a);var b=this.typeMapFor(a),c=b.findAllCache;if(c)return c;var d=this._recordArrayManager.createRecordArray(a);return b.findAllCache=d,d},filter:function(a,b,c){this._verifyType(a);var d,f,h=arguments.length,i=3===h;return i?d=this.find(a,b):2===h&&(c=b),f=i?this._recordArrayManager.createFilteredRecordArray(a,c,b):this._recordArrayManager.createFilteredRecordArray(a,c),d=d||g.cast(f),e(d.then(function(){return f},null,"OE: Store#filter of "+a))},find:function(a,b){var c=this;this._verifyType(a);var d=this.orbitSource.find(a,b).then(function(b){return c._lookupFromData(a,b)});return this._request(d)},add:function(a,b){var c=this;this._verifyType(a),f(this,"schema").normalize(a,b);var d=this.orbitSource.add(a,b).then(function(b){return c._lookupFromData(a,b)});return this._request(d)},remove:function(a,b){this._verifyType(a);var c=this.orbitSource.remove(a,b);return this._request(c)},patch:function(a,b,c,d){this._verifyType(a);var e=this.orbitSource.patch(a,b,c,d);return this._request(e)},addLink:function(a,b,c,d){this._verifyType(a);var e=this.orbitSource.addLink(a,b,c,d);return this._request(e)},removeLink:function(a,b,c,d){this._verifyType(a);var e=this.orbitSource.removeLink(a,b,c,d);return this._request(e)},findLink:function(a,b,c){var d=this;this._verifyType(a);var e=f(this,"schema").linkProperties(a,c).model,g=this.orbitSource.findLink(a,b,c).then(function(a){return d._lookupFromData(e,a)});return this._request(g)},retrieve:function(a,b){this._verifyType(a);var c;if(1===arguments.length?c=Object.keys(this.orbitSource.retrieve([a])):Ember.isArray(b)&&(c=b),c)return this._lookupRecords(a,c);if("object"==typeof b){var d=f(this,"idField");b=f(b,d)}return this.orbitSource.retrieve([a,b])?this._lookupRecord(a,b):void 0},retrieveAttribute:function(a,b,c){return this._verifyType(a),this.orbitSource.retrieve([a,b,c])},retrieveLink:function(a,b,c){this._verifyType(a);var d=f(this,"schema").linkProperties(a,c).model,e=this.orbitSource.retrieve([a,b,"__rel",c]);return d&&e?this.retrieve(d,e):void 0},retrieveLinks:function(a,b,c){this._verifyType(a);var d=f(this,"schema").linkProperties(a,c).model,e=Object.keys(this.orbitSource.retrieve([a,b,"__rel",c]));return d&&Ember.isArray(e)&&e.length>0?this.retrieve(d,e):void 0},unload:function(a,b){this._verifyType(a);var c=this.typeMapFor(a);delete c.records[b]},_verifyType:function(a){Ember.assert("`type` must be registered as a model in the container",f(this,"schema").modelFor(a))},_didTransform:function(a){var b=(a.op,a.path),c=(a.value,this._lookupRecord(b[0],b[1]));if(3===b.length)c.propertyDidChange(b[2]);else if(4===b.length){var d=b[3],e=this.retrieveLink(b[0],b[1],d);c.set(d,e)}this._recordArrayManager.recordDidChange(c,a)},_lookupRecord:function(a,b){var c=this.typeMapFor(a),d=c.records[b];if(void 0===d){var e=f(this,"schema").modelFor(a),g={store:this};g[f(this,"idField")]=b,d=e._create(g),c.records[b]=d}return d},_lookupRecords:function(a,b){var c=this;return b.map(function(b){return c._lookupRecord(a,b)})},_lookupFromData:function(a,b){var c=f(this,"idField");if(Ember.isArray(b)){var d=b.map(function(a){return a[c]});return this._lookupRecords(a,d)}return this._lookupRecord(a,b[c])},_request:function(a){var b=this._requests;return b.add(a),a.finally(function(){b.remove(a)})}});return i}),define("ember_orbit",["ember_orbit/main","ember_orbit/store","ember_orbit/model","ember_orbit/record_array_manager","ember_orbit/schema","ember_orbit/source","ember_orbit/attr","ember_orbit/links/has_many_array","ember_orbit/links/has_one_object","ember_orbit/links/link_proxy_mixin","ember_orbit/record_arrays/filtered_record_array","ember_orbit/record_arrays/record_array","ember_orbit/relationships/has_many","ember_orbit/relationships/has_one"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){"use strict";return a.Store=b,a.Model=c,a.RecordArrayManager=d,a.Schema=e,a.Source=f,a.attr=g,a.HasManyArray=h,a.HasOneObject=i,a.LinkProxyMixin=j,a.FilteredRecordArray=k,a.RecordArray=l,a.hasOne=n,a.hasMany=m,a}),define("ember_orbit/attr",[],function(){"use strict";var a=function(a,b){b=b||{},b.type=a;var c={options:b,isAttribute:!0};return Ember.computed(function(a,b){if(arguments.length>1){var c=this.getAttribute(a);return b!==c&&this.patch(a,b),b}return this.getAttribute(a)}).meta(c)};return a}),define("ember_orbit/links/has_many_array",["ember_orbit/record_arrays/record_array","ember_orbit/links/link_proxy_mixin"],function(a,b){"use strict";var c=Ember.get,d=(Ember.set,Ember.EnumerableUtils.forEach,a.extend(b,{arrayContentWillChange:function(a,b){for(var d,e,f=c(this,"store"),g=c(f,"idField"),h=c(this,"_ownerType"),i=c(this,"_ownerId"),j=c(this,"_linkKey"),k=c(this,"content"),l=a;a+b>l;l++)d=k.objectAt(l),e=c(d,g),f.removeLink(h,i,j,e);return this._super.apply(this,arguments)},arrayContentDidChange:function(a,b,d){this._super.apply(this,arguments);for(var e,f,g=c(this,"store"),h=c(g,"idField"),i=c(this,"_ownerType"),j=c(this,"_ownerId"),k=c(this,"_linkKey"),l=c(this,"content"),m=a;a+d>m;m++)e=l.objectAt(m),f=c(e,h),g.addLink(i,j,k,f)}}));return d}),define("ember_orbit/links/has_one_object",["ember_orbit/links/link_proxy_mixin"],function(a){"use strict";var b=Ember.ObjectProxy.extend(a);return b}),define("ember_orbit/links/link_proxy_mixin",[],function(){"use strict";var a=Ember.get,b=(Ember.set,Ember.Mixin.create({store:null,_ownerId:null,_ownerType:null,_linkKey:null,find:function(){var b=a(this,"store"),c=b.findLink.call(b,a(this,"_ownerType"),a(this,"_ownerId"),a(this,"_linkKey"));return c}}));return b}),define("ember_orbit/main",[],function(){"use strict";var a={};return a}),define("ember_orbit/model",["ember_orbit/links/has_one_object","ember_orbit/links/has_many_array"],function(a,b){"use strict";var c=Ember.get,d=Ember.Object.extend(Ember.Evented,{getAttribute:function(a){var b=c(this,"store"),d=this.constructor.typeKey,e=c(this,c(b,"idField"));return b.retrieveAttribute(d,e,a)},getLink:function(b){var d=c(this,"store"),e=this.constructor.typeKey,f=c(this,c(d,"idField")),g=d.retrieveLink(e,f,b)||null,h=a.create({content:g,store:d,_ownerId:f,_ownerType:e,_linkKey:b});return this._assignLink(b,h),h},getLinks:function(a){var d=c(this,"store"),e=this.constructor.typeKey,f=c(this,c(d,"idField")),g=d.retrieveLinks(e,f,a)||Ember.A(),h=b.create({content:g,store:this.store,_ownerId:f,_ownerType:e,_linkKey:a});return this._assignLink(a,h),h},patch:function(a,b){var d=c(this,"store"),e=this.constructor.typeKey,f=c(this,c(d,"idField"));return d.patch(e,f,a,b)},addLink:function(a,b){var d=c(this,"store"),e=this.constructor.typeKey,f=c(this,c(d,"idField")),g=c(b,c(d,"idField"));return d.addLink(e,f,a,g)},removeLink:function(a,b){var d=c(this,"store"),e=this.constructor.typeKey,f=c(this,c(d,"idField")),g=c(b,c(d,"idField"));return d.removeLink(e,f,a,g)},remove:function(){var a=c(this,"store"),b=this.constructor.typeKey,d=c(this,c(a,"idField"));return a.remove(b,d)},willDestroy:function(){this._super();var a=c(this,"store"),b=this.constructor.typeKey,d=c(this,c(a,"idField"));a.unload(b,d)},_assignLink:function(a,b){this._links=this._links||{},this._links[a]=b}});return d.reopenClass({_create:d.create,create:function(){throw new Ember.Error("You should not call `create` on a model. Instead, call `store.add` with the attributes you would like to set.")},attributes:Ember.computed(function(){var a={};return this.eachComputedProperty(function(b,c){c.isAttribute&&(c.name=b,a[b]=c.options)}),a}),links:Ember.computed(function(){var a={};return this.eachComputedProperty(function(b,c){c.isLink&&(c.name=b,a[b]=c.options)}),a})}),d}),define("ember_orbit/record_array_manager",["ember_orbit/record_arrays/record_array","ember_orbit/record_arrays/filtered_record_array"],function(a,b){"use strict";function c(a){for(var b=[],c=Ember.keys(a),d=0;d<c.length;d++)b.push(a[c[d]]);return b}function d(a){a.destroy()}function e(a){for(var b=a.length,c=Ember.A(),d=0;b>d;d++)c=c.concat(a[d]);return c}var f=Ember.get,g=(Ember.set,Ember.EnumerableUtils.forEach),h=Ember.Object.extend({init:function(){this.filteredRecordArrays=Ember.MapWithDefault.create({defaultValue:function(){return[]}}),this.changes=[]},recordDidChange:function(a,b){1===this.changes.push({record:a,operation:b})&&Ember.run.schedule("actions",this,this._processChanges)},_processChanges:function(){g(this.changes,function(a){this._processChange(a.record,a.operation)},this),this.changes.length=0},_processChange:function(a,b){var c=b.path,d=b.op;if(b.value,2===c.length){if("add"===d)return void this._recordWasChanged(a);if("remove"===d)return void this._recordWasDeleted(a)}else{if(3===c.length||4===c.length)return void this._recordWasChanged(a);if(5===c.length){if("add"===d)return void this._linkWasAdded(a,c[3],c[4]);if("remove"===d)return void this._linkWasRemoved(a,c[3],c[4])}}console.log("!!!! unhandled change",c.length,b)},_recordWasDeleted:function(a){var b=a._recordArrays;b&&g(b,function(b){b.removeObject(a)}),a.destroy()},_recordWasChanged:function(a){var b,c=a.constructor.typeKey,d=this.filteredRecordArrays.get(c);d&&g(d,function(d){b=f(d,"filterFunction"),this.updateRecordArray(d,b,c,a)},this)},_linkWasAdded:function(a,b,c){var d=a.constructor.typeKey,e=f(this,"store"),g=f(e,"schema").linkProperties(d,b).model;if(g){var h=e.retrieve(g,c),i=f(a,b);i&&h&&i.addObject(h)}},_linkWasRemoved:function(a,b,c){var d=a.constructor.typeKey,e=f(this,"store"),g=f(e,"schema").linkProperties(d,b).model;if(g){var h=e.retrieve(g,c),i=f(a,b);i&&h&&i.removeObject(h)}},updateRecordArray:function(a,b,c,d){var e;e=b?b(d):!0,e?a.addObject(d):a.removeObject(d)},updateFilter:function(a,b,c){for(var d,e=this.store.retrieve(b),g=0,h=e.length;h>g;g++)d=e[g],f(d,"isDeleted")||this.updateRecordArray(a,c,b,d)},createRecordArray:function(b){var c=a.create({type:b,content:Ember.A(),store:this.store});return this.registerFilteredRecordArray(c,b),c},createFilteredRecordArray:function(a,c,d){var e=b.create({query:d,type:a,content:Ember.A(),store:this.store,manager:this,filterFunction:c});return this.registerFilteredRecordArray(e,a,c),e},registerFilteredRecordArray:function(a,b,c){var d=this.filteredRecordArrays.get(b);d.push(a),this.updateFilter(a,b,c)},willDestroy:function(){this._super(),e(c(this.filteredRecordArrays.values)).forEach(d)}});return h}),define("ember_orbit/record_arrays/filtered_record_array",["ember_orbit/record_arrays/record_array"],function(a){"use strict";var b=Ember.get,c=a.extend({filterFunction:null,replace:function(){var a=b(this,"type").toString();throw new Error("The result of a client-side filter (on "+a+") is immutable.")},_updateFilter:function(){var a=b(this,"manager");a.updateFilter(this,b(this,"type"),b(this,"filterFunction"))},updateFilter:Ember.observer(function(){Ember.run.once(this,this._updateFilter)},"filterFunction")});return c}),define("ember_orbit/record_arrays/record_array",[],function(){"use strict";var a=Ember.get,b=(Ember.set,Ember.EnumerableUtils.forEach),c=Ember.ArrayProxy.extend(Ember.Evented,{init:function(){this._super(),this._recordsAdded(a(this,"content"))},willDestroy:function(){this._recordsRemoved(a(this,"content")),this._super()},type:null,store:null,addObject:function(b){a(this,"content").addObject(b),this._recordAdded(b)},removeObject:function(b){a(this,"content").removeObject(b),this._recordRemoved(b)},_recordAdded:function(a){this._recordArraysForRecord(a).add(this)},_recordRemoved:function(a){this._recordArraysForRecord(a).remove(this)},_recordsAdded:function(a){b(a,function(a){this._recordAdded(a)},this)},_recordsRemoved:function(a){b(a,function(a){this._recordRemoved(a)},this)},_recordArraysForRecord:function(a){return a._recordArrays=a._recordArrays||Ember.OrderedSet.create(),a._recordArrays}});return c}),define("ember_orbit/relationships/has_many",[],function(){"use strict";var a=function(a,b){b=b||{},b.type="hasMany",b.model=a;var c={options:b,isLink:!0};return Ember.computed(function(a){return this.getLinks(a)}).meta(c).readOnly()};return a}),define("ember_orbit/relationships/has_one",[],function(){"use strict";var a=Ember.get,b=(Ember.set,function(b,c){c=c||{},c.type="hasOne",c.model=b;var d={options:c,isLink:!0};return Ember.computed(function(b,c){var d=this.getLink(b);return arguments.length>1&&c!==a(d,"content")&&d.setProperties({content:c,promise:this.addLink(b,c)}),d}).meta(d)});return b}),define("ember_orbit/schema",["orbit_common/schema"],function(a){"use strict";var b=Ember.get,c=Ember.Object.extend({idField:"clientid",remoteIdField:"id",init:function(){this._super.apply(this,arguments),this._modelTypeMap={}},_schema:function(){var c=new a({idField:b(this,"idField"),remoteIdField:b(this,"remoteIdField")});return c}.property(),defineModel:function(a,c){var d=b(this,"_schema"),e=d.models;e[a]||d.registerModel(a,{attributes:b(c,"attributes"),links:b(c,"links")})},modelFor:function(a){Ember.assert("`type` must be a string","string"==typeof a);var b=this._modelTypeMap[a];if(!b){if(b=this.container.lookupFactory("model:"+a),!b)throw new Ember.Error("No model was found for '"+a+"'");b.typeKey=a,this.defineModel(a,b),this._modelTypeMap[a]=b}return b},initRecord:function(a,c){return b(this,"_schema").initRecord(a,c)},models:function(){return Object.keys(b(this,"_schema").models)},attributes:function(a){return Object.keys(b(this,"_schema").models[a].attributes)},attributeProperties:function(a,c){return b(this,"_schema").models[a].attributes[c]},links:function(a){return Object.keys(b(this,"_schema").models[a].links)},linkProperties:function(a,c){return b(this,"_schema").models[a].links[c]},normalize:function(a,c){return b(this,"_schema").normalize(a,c)}});return c}),define("ember_orbit/source",["ember_orbit/schema","orbit_common/source"],function(){"use strict";var a=Ember.get,b=Ember.set,c=Ember.Object.extend({orbitSourceClass:null,orbitSourceOptions:null,schema:null,init:function(){this._super.apply(this,arguments);var c=a(this,"orbitSourceClass");c&&c.wrappedFunction&&(c=c.wrappedFunction),Ember.assert("Source.orbitSourceClass must be initialized with an instance of an `OC.Source`",c);var d=a(this,"schema");if(!d){var e=a(this,"container");d=e.lookup("schema:main"),b(this,"schema",d)}var f=a(d,"_schema"),g=a(this,"orbitSourceOptions");this.orbitSource=new c(f,g)}});return c}),define("ember_orbit/store",["ember_orbit/source","ember_orbit/model","ember_orbit/record_array_manager","orbit_common/memory_source"],function(a,b,c,d){"use strict";function e(a,b){return h.create({promise:g.cast(a,b)})}var f=Ember.get,g=(Ember.set,Ember.RSVP.Promise),h=Ember.ArrayProxy.extend(Ember.PromiseProxyMixin),i=a.extend({orbitSourceClass:d,schema:null,idField:Ember.computed.alias("schema.idField"),init:function(){this._super.apply(this,arguments),this.typeMaps={},this.orbitSource.on("didTransform",this._didTransform,this),this._requests=Ember.OrderedSet.create(),this._recordArrayManager=c.create({store:this})},then:function(a,b){return Ember.RSVP.all(this._requests.toArray()).then(a,b)},willDestroy:function(){this.orbitSource.off("didTransform",this.didTransform,this),this._recordArrayManager.destroy(),this._super.apply(this,arguments)},typeMapFor:function(a){var b=this.typeMaps[a];return b?b:(b={records:{},type:a},this.typeMaps[a]=b,b)},transform:function(a){return this.orbitSource.transform(a)},all:function(a){this._verifyType(a);var b=this.typeMapFor(a),c=b.findAllCache;if(c)return c;var d=this._recordArrayManager.createRecordArray(a);return b.findAllCache=d,d},filter:function(a,b,c){this._verifyType(a);var d,f,h=arguments.length,i=3===h;return i?d=this.find(a,b):2===h&&(c=b),f=i?this._recordArrayManager.createFilteredRecordArray(a,c,b):this._recordArrayManager.createFilteredRecordArray(a,c),d=d||g.cast(f),e(d.then(function(){return f},null,"OE: Store#filter of "+a))},find:function(a,b){var c=this;this._verifyType(a);var d=this.orbitSource.find(a,b).then(function(b){return c._lookupFromData(a,b)});return this._request(d)},add:function(a,b){var c=this;this._verifyType(a),f(this,"schema").normalize(a,b);var d=this.orbitSource.add(a,b).then(function(b){return c._lookupFromData(a,b)});return this._request(d)},remove:function(a,b){this._verifyType(a);var c=this.orbitSource.remove(a,b);return this._request(c)},patch:function(a,b,c,d){this._verifyType(a);var e=this.orbitSource.patch(a,b,c,d);return this._request(e)},addLink:function(a,b,c,d){this._verifyType(a);var e=this.orbitSource.addLink(a,b,c,d);return this._request(e)},removeLink:function(a,b,c,d){this._verifyType(a);var e=this.orbitSource.removeLink(a,b,c,d);return this._request(e)},findLink:function(a,b,c){var d=this;this._verifyType(a);var e=f(this,"schema").linkProperties(a,c).model,g=this.orbitSource.findLink(a,b,c).then(function(a){return d._lookupFromData(e,a)});return this._request(g)},retrieve:function(a,b){this._verifyType(a);var c;if(1===arguments.length?c=Object.keys(this.orbitSource.retrieve([a])):Ember.isArray(b)&&(c=b),c)return this._lookupRecords(a,c);if("object"==typeof b){var d=f(this,"idField");b=f(b,d)}return this.orbitSource.retrieve([a,b])?this._lookupRecord(a,b):void 0},retrieveAttribute:function(a,b,c){return this._verifyType(a),this.orbitSource.retrieve([a,b,c])},retrieveLink:function(a,b,c){this._verifyType(a);var d=f(this,"schema").linkProperties(a,c).model,e=this.orbitSource.retrieve([a,b,"__rel",c]);return d&&e?this.retrieve(d,e):void 0},retrieveLinks:function(a,b,c){this._verifyType(a);var d=f(this,"schema").linkProperties(a,c).model,e=Object.keys(this.orbitSource.retrieve([a,b,"__rel",c]));return d&&Ember.isArray(e)&&e.length>0?this.retrieve(d,e):void 0},unload:function(a,b){this._verifyType(a);var c=this.typeMapFor(a);delete c.records[b]},_verifyType:function(a){Ember.assert("`type` must be registered as a model in the container",f(this,"schema").modelFor(a))},_didTransform:function(a){var b=(a.op,a.path),c=(a.value,this._lookupRecord(b[0],b[1]));if(3===b.length)c.propertyDidChange(b[2]);else if(4===b.length){var d=b[3],e=this.retrieveLink(b[0],b[1],d);c.set(d,e)}this._recordArrayManager.recordDidChange(c,a)},_lookupRecord:function(a,b){var c=this.typeMapFor(a),d=c.records[b];if(void 0===d){var e=f(this,"schema").modelFor(a),g={store:this};g[f(this,"idField")]=b,d=e._create(g),c.records[b]=d}return d},_lookupRecords:function(a,b){var c=this;return b.map(function(b){return c._lookupRecord(a,b)})},_lookupFromData:function(a,b){var c=f(this,"idField");if(Ember.isArray(b)){var d=b.map(function(a){return a[c]});return this._lookupRecords(a,d)}return this._lookupRecord(a,b[c])},_request:function(a){var b=this._requests;return b.add(a),a.finally(function(){b.remove(a)})}});return i}),function(a){var b=a.Orbit.__defineModule__,c=a.Orbit.__requireModule__;b("ember_orbit",["ember_orbit/main","ember_orbit/store","ember_orbit/model","ember_orbit/record_array_manager","ember_orbit/schema","ember_orbit/source","ember_orbit/attr","ember_orbit/links/has_many_array","ember_orbit/links/has_one_object","ember_orbit/links/link_proxy_mixin","ember_orbit/record_arrays/filtered_record_array","ember_orbit/record_arrays/record_array","ember_orbit/relationships/has_many","ember_orbit/relationships/has_one"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){"use strict";return a.Store=b,a.Model=c,a.RecordArrayManager=d,a.Schema=e,a.Source=f,a.attr=g,a.HasManyArray=h,a.HasOneObject=i,a.LinkProxyMixin=j,a.FilteredRecordArray=k,a.RecordArray=l,a.hasOne=n,a.hasMany=m,a}),b("ember_orbit/attr",[],function(){"use strict";var a=function(a,b){b=b||{},b.type=a;var c={options:b,isAttribute:!0};return Ember.computed(function(a,b){if(arguments.length>1){var c=this.getAttribute(a);return b!==c&&this.patch(a,b),b}return this.getAttribute(a)}).meta(c)};return a}),b("ember_orbit/links/has_many_array",["ember_orbit/record_arrays/record_array","ember_orbit/links/link_proxy_mixin"],function(a,b){"use strict";var c=Ember.get,d=(Ember.set,Ember.EnumerableUtils.forEach,a.extend(b,{arrayContentWillChange:function(a,b){for(var d,e,f=c(this,"store"),g=c(f,"idField"),h=c(this,"_ownerType"),i=c(this,"_ownerId"),j=c(this,"_linkKey"),k=c(this,"content"),l=a;a+b>l;l++)d=k.objectAt(l),e=c(d,g),f.removeLink(h,i,j,e);
return this._super.apply(this,arguments)},arrayContentDidChange:function(a,b,d){this._super.apply(this,arguments);for(var e,f,g=c(this,"store"),h=c(g,"idField"),i=c(this,"_ownerType"),j=c(this,"_ownerId"),k=c(this,"_linkKey"),l=c(this,"content"),m=a;a+d>m;m++)e=l.objectAt(m),f=c(e,h),g.addLink(i,j,k,f)}}));return d}),b("ember_orbit/links/has_one_object",["ember_orbit/links/link_proxy_mixin"],function(a){"use strict";var b=Ember.ObjectProxy.extend(a);return b}),b("ember_orbit/links/link_proxy_mixin",[],function(){"use strict";var a=Ember.get,b=(Ember.set,Ember.Mixin.create({store:null,_ownerId:null,_ownerType:null,_linkKey:null,find:function(){var b=a(this,"store"),c=b.findLink.call(b,a(this,"_ownerType"),a(this,"_ownerId"),a(this,"_linkKey"));return c}}));return b}),b("ember_orbit/main",[],function(){"use strict";var a={};return a}),b("ember_orbit/model",["ember_orbit/links/has_one_object","ember_orbit/links/has_many_array"],function(a,b){"use strict";var c=Ember.get,d=Ember.Object.extend(Ember.Evented,{getAttribute:function(a){var b=c(this,"store"),d=this.constructor.typeKey,e=c(this,c(b,"idField"));return b.retrieveAttribute(d,e,a)},getLink:function(b){var d=c(this,"store"),e=this.constructor.typeKey,f=c(this,c(d,"idField")),g=d.retrieveLink(e,f,b)||null,h=a.create({content:g,store:d,_ownerId:f,_ownerType:e,_linkKey:b});return this._assignLink(b,h),h},getLinks:function(a){var d=c(this,"store"),e=this.constructor.typeKey,f=c(this,c(d,"idField")),g=d.retrieveLinks(e,f,a)||Ember.A(),h=b.create({content:g,store:this.store,_ownerId:f,_ownerType:e,_linkKey:a});return this._assignLink(a,h),h},patch:function(a,b){var d=c(this,"store"),e=this.constructor.typeKey,f=c(this,c(d,"idField"));return d.patch(e,f,a,b)},addLink:function(a,b){var d=c(this,"store"),e=this.constructor.typeKey,f=c(this,c(d,"idField")),g=c(b,c(d,"idField"));return d.addLink(e,f,a,g)},removeLink:function(a,b){var d=c(this,"store"),e=this.constructor.typeKey,f=c(this,c(d,"idField")),g=c(b,c(d,"idField"));return d.removeLink(e,f,a,g)},remove:function(){var a=c(this,"store"),b=this.constructor.typeKey,d=c(this,c(a,"idField"));return a.remove(b,d)},willDestroy:function(){this._super();var a=c(this,"store"),b=this.constructor.typeKey,d=c(this,c(a,"idField"));a.unload(b,d)},_assignLink:function(a,b){this._links=this._links||{},this._links[a]=b}});return d.reopenClass({_create:d.create,create:function(){throw new Ember.Error("You should not call `create` on a model. Instead, call `store.add` with the attributes you would like to set.")},attributes:Ember.computed(function(){var a={};return this.eachComputedProperty(function(b,c){c.isAttribute&&(c.name=b,a[b]=c.options)}),a}),links:Ember.computed(function(){var a={};return this.eachComputedProperty(function(b,c){c.isLink&&(c.name=b,a[b]=c.options)}),a})}),d}),b("ember_orbit/record_array_manager",["ember_orbit/record_arrays/record_array","ember_orbit/record_arrays/filtered_record_array"],function(a,b){"use strict";function c(a){for(var b=[],c=Ember.keys(a),d=0;d<c.length;d++)b.push(a[c[d]]);return b}function d(a){a.destroy()}function e(a){for(var b=a.length,c=Ember.A(),d=0;b>d;d++)c=c.concat(a[d]);return c}var f=Ember.get,g=(Ember.set,Ember.EnumerableUtils.forEach),h=Ember.Object.extend({init:function(){this.filteredRecordArrays=Ember.MapWithDefault.create({defaultValue:function(){return[]}}),this.changes=[]},recordDidChange:function(a,b){1===this.changes.push({record:a,operation:b})&&Ember.run.schedule("actions",this,this._processChanges)},_processChanges:function(){g(this.changes,function(a){this._processChange(a.record,a.operation)},this),this.changes.length=0},_processChange:function(a,b){{var c=b.path,d=b.op;b.value}if(2===c.length){if("add"===d)return void this._recordWasChanged(a);if("remove"===d)return void this._recordWasDeleted(a)}else{if(3===c.length||4===c.length)return void this._recordWasChanged(a);if(5===c.length){if("add"===d)return void this._linkWasAdded(a,c[3],c[4]);if("remove"===d)return void this._linkWasRemoved(a,c[3],c[4])}}console.log("!!!! unhandled change",c.length,b)},_recordWasDeleted:function(a){var b=a._recordArrays;b&&g(b,function(b){b.removeObject(a)}),a.destroy()},_recordWasChanged:function(a){var b,c=a.constructor.typeKey,d=this.filteredRecordArrays.get(c);d&&g(d,function(d){b=f(d,"filterFunction"),this.updateRecordArray(d,b,c,a)},this)},_linkWasAdded:function(a,b,c){var d=a.constructor.typeKey,e=f(this,"store"),g=f(e,"schema").linkProperties(d,b).model;if(g){var h=e.retrieve(g,c),i=f(a,b);i&&h&&i.addObject(h)}},_linkWasRemoved:function(a,b,c){var d=a.constructor.typeKey,e=f(this,"store"),g=f(e,"schema").linkProperties(d,b).model;if(g){var h=e.retrieve(g,c),i=f(a,b);i&&h&&i.removeObject(h)}},updateRecordArray:function(a,b,c,d){var e;e=b?b(d):!0,e?a.addObject(d):a.removeObject(d)},updateFilter:function(a,b,c){for(var d,e=this.store.retrieve(b),g=0,h=e.length;h>g;g++)d=e[g],f(d,"isDeleted")||this.updateRecordArray(a,c,b,d)},createRecordArray:function(b){var c=a.create({type:b,content:Ember.A(),store:this.store});return this.registerFilteredRecordArray(c,b),c},createFilteredRecordArray:function(a,c,d){var e=b.create({query:d,type:a,content:Ember.A(),store:this.store,manager:this,filterFunction:c});return this.registerFilteredRecordArray(e,a,c),e},registerFilteredRecordArray:function(a,b,c){var d=this.filteredRecordArrays.get(b);d.push(a),this.updateFilter(a,b,c)},willDestroy:function(){this._super(),e(c(this.filteredRecordArrays.values)).forEach(d)}});return h}),b("ember_orbit/record_arrays/filtered_record_array",["ember_orbit/record_arrays/record_array"],function(a){"use strict";var b=Ember.get,c=a.extend({filterFunction:null,replace:function(){var a=b(this,"type").toString();throw new Error("The result of a client-side filter (on "+a+") is immutable.")},_updateFilter:function(){var a=b(this,"manager");a.updateFilter(this,b(this,"type"),b(this,"filterFunction"))},updateFilter:Ember.observer(function(){Ember.run.once(this,this._updateFilter)},"filterFunction")});return c}),b("ember_orbit/record_arrays/record_array",[],function(){"use strict";var a=Ember.get,b=(Ember.set,Ember.EnumerableUtils.forEach),c=Ember.ArrayProxy.extend(Ember.Evented,{init:function(){this._super(),this._recordsAdded(a(this,"content"))},willDestroy:function(){this._recordsRemoved(a(this,"content")),this._super()},type:null,store:null,addObject:function(b){a(this,"content").addObject(b),this._recordAdded(b)},removeObject:function(b){a(this,"content").removeObject(b),this._recordRemoved(b)},_recordAdded:function(a){this._recordArraysForRecord(a).add(this)},_recordRemoved:function(a){this._recordArraysForRecord(a).remove(this)},_recordsAdded:function(a){b(a,function(a){this._recordAdded(a)},this)},_recordsRemoved:function(a){b(a,function(a){this._recordRemoved(a)},this)},_recordArraysForRecord:function(a){return a._recordArrays=a._recordArrays||Ember.OrderedSet.create(),a._recordArrays}});return c}),b("ember_orbit/relationships/has_many",[],function(){"use strict";var a=function(a,b){b=b||{},b.type="hasMany",b.model=a;var c={options:b,isLink:!0};return Ember.computed(function(a){return this.getLinks(a)}).meta(c).readOnly()};return a}),b("ember_orbit/relationships/has_one",[],function(){"use strict";var a=Ember.get,b=(Ember.set,function(b,c){c=c||{},c.type="hasOne",c.model=b;var d={options:c,isLink:!0};return Ember.computed(function(b,c){var d=this.getLink(b);return arguments.length>1&&c!==a(d,"content")&&d.setProperties({content:c,promise:this.addLink(b,c)}),d}).meta(d)});return b}),b("ember_orbit/schema",["orbit_common/schema"],function(a){"use strict";var b=Ember.get,c=Ember.Object.extend({idField:"clientid",remoteIdField:"id",init:function(){this._super.apply(this,arguments),this._modelTypeMap={}},_schema:function(){var c=new a({idField:b(this,"idField"),remoteIdField:b(this,"remoteIdField")});return c}.property(),defineModel:function(a,c){var d=b(this,"_schema"),e=d.models;e[a]||d.registerModel(a,{attributes:b(c,"attributes"),links:b(c,"links")})},modelFor:function(a){Ember.assert("`type` must be a string","string"==typeof a);var b=this._modelTypeMap[a];if(!b){if(b=this.container.lookupFactory("model:"+a),!b)throw new Ember.Error("No model was found for '"+a+"'");b.typeKey=a,this.defineModel(a,b),this._modelTypeMap[a]=b}return b},initRecord:function(a,c){return b(this,"_schema").initRecord(a,c)},models:function(){return Object.keys(b(this,"_schema").models)},attributes:function(a){return Object.keys(b(this,"_schema").models[a].attributes)},attributeProperties:function(a,c){return b(this,"_schema").models[a].attributes[c]},links:function(a){return Object.keys(b(this,"_schema").models[a].links)},linkProperties:function(a,c){return b(this,"_schema").models[a].links[c]},normalize:function(a,c){return b(this,"_schema").normalize(a,c)}});return c}),b("ember_orbit/source",["ember_orbit/schema","orbit_common/source"],function(){"use strict";var a=Ember.get,b=Ember.set,c=Ember.Object.extend({orbitSourceClass:null,orbitSourceOptions:null,schema:null,init:function(){this._super.apply(this,arguments);var c=a(this,"orbitSourceClass");c&&c.wrappedFunction&&(c=c.wrappedFunction),Ember.assert("Source.orbitSourceClass must be initialized with an instance of an `OC.Source`",c);var d=a(this,"schema");if(!d){var e=a(this,"container");d=e.lookup("schema:main"),b(this,"schema",d)}var f=a(d,"_schema"),g=a(this,"orbitSourceOptions");this.orbitSource=new c(f,g)}});return c}),b("ember_orbit/store",["ember_orbit/source","ember_orbit/model","ember_orbit/record_array_manager","orbit_common/memory_source"],function(a,b,c,d){"use strict";function e(a,b){return h.create({promise:g.cast(a,b)})}var f=Ember.get,g=(Ember.set,Ember.RSVP.Promise),h=Ember.ArrayProxy.extend(Ember.PromiseProxyMixin),i=a.extend({orbitSourceClass:d,schema:null,idField:Ember.computed.alias("schema.idField"),init:function(){this._super.apply(this,arguments),this.typeMaps={},this.orbitSource.on("didTransform",this._didTransform,this),this._requests=Ember.OrderedSet.create(),this._recordArrayManager=c.create({store:this})},then:function(a,b){return Ember.RSVP.all(this._requests.toArray()).then(a,b)},willDestroy:function(){this.orbitSource.off("didTransform",this.didTransform,this),this._recordArrayManager.destroy(),this._super.apply(this,arguments)},typeMapFor:function(a){var b=this.typeMaps[a];return b?b:(b={records:{},type:a},this.typeMaps[a]=b,b)},transform:function(a){return this.orbitSource.transform(a)},all:function(a){this._verifyType(a);var b=this.typeMapFor(a),c=b.findAllCache;if(c)return c;var d=this._recordArrayManager.createRecordArray(a);return b.findAllCache=d,d},filter:function(a,b,c){this._verifyType(a);var d,f,h=arguments.length,i=3===h;return i?d=this.find(a,b):2===h&&(c=b),f=i?this._recordArrayManager.createFilteredRecordArray(a,c,b):this._recordArrayManager.createFilteredRecordArray(a,c),d=d||g.cast(f),e(d.then(function(){return f},null,"OE: Store#filter of "+a))},find:function(a,b){var c=this;this._verifyType(a);var d=this.orbitSource.find(a,b).then(function(b){return c._lookupFromData(a,b)});return this._request(d)},add:function(a,b){var c=this;this._verifyType(a),f(this,"schema").normalize(a,b);var d=this.orbitSource.add(a,b).then(function(b){return c._lookupFromData(a,b)});return this._request(d)},remove:function(a,b){this._verifyType(a);var c=this.orbitSource.remove(a,b);return this._request(c)},patch:function(a,b,c,d){this._verifyType(a);var e=this.orbitSource.patch(a,b,c,d);return this._request(e)},addLink:function(a,b,c,d){this._verifyType(a);var e=this.orbitSource.addLink(a,b,c,d);return this._request(e)},removeLink:function(a,b,c,d){this._verifyType(a);var e=this.orbitSource.removeLink(a,b,c,d);return this._request(e)},findLink:function(a,b,c){var d=this;this._verifyType(a);var e=f(this,"schema").linkProperties(a,c).model,g=this.orbitSource.findLink(a,b,c).then(function(a){return d._lookupFromData(e,a)});return this._request(g)},retrieve:function(a,b){this._verifyType(a);var c;if(1===arguments.length?c=Object.keys(this.orbitSource.retrieve([a])):Ember.isArray(b)&&(c=b),c)return this._lookupRecords(a,c);if("object"==typeof b){var d=f(this,"idField");b=f(b,d)}return this.orbitSource.retrieve([a,b])?this._lookupRecord(a,b):void 0},retrieveAttribute:function(a,b,c){return this._verifyType(a),this.orbitSource.retrieve([a,b,c])},retrieveLink:function(a,b,c){this._verifyType(a);var d=f(this,"schema").linkProperties(a,c).model,e=this.orbitSource.retrieve([a,b,"__rel",c]);return d&&e?this.retrieve(d,e):void 0},retrieveLinks:function(a,b,c){this._verifyType(a);var d=f(this,"schema").linkProperties(a,c).model,e=Object.keys(this.orbitSource.retrieve([a,b,"__rel",c]));return d&&Ember.isArray(e)&&e.length>0?this.retrieve(d,e):void 0},unload:function(a,b){this._verifyType(a);var c=this.typeMapFor(a);delete c.records[b]},_verifyType:function(a){Ember.assert("`type` must be registered as a model in the container",f(this,"schema").modelFor(a))},_didTransform:function(a){var b=(a.op,a.path),c=(a.value,this._lookupRecord(b[0],b[1]));if(3===b.length)c.propertyDidChange(b[2]);else if(4===b.length){var d=b[3],e=this.retrieveLink(b[0],b[1],d);c.set(d,e)}this._recordArrayManager.recordDidChange(c,a)},_lookupRecord:function(a,b){var c=this.typeMapFor(a),d=c.records[b];if(void 0===d){var e=f(this,"schema").modelFor(a),g={store:this};g[f(this,"idField")]=b,d=e._create(g),c.records[b]=d}return d},_lookupRecords:function(a,b){var c=this;return b.map(function(b){return c._lookupRecord(a,b)})},_lookupFromData:function(a,b){var c=f(this,"idField");if(Ember.isArray(b)){var d=b.map(function(a){return a[c]});return this._lookupRecords(a,d)}return this._lookupRecord(a,b[c])},_request:function(a){var b=this._requests;return b.add(a),a.finally(function(){b.remove(a)})}});return i}),a.EO=c("ember_orbit")}(window);